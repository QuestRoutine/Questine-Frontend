# ğŸš€ Questine (í€˜ìŠ¤í‹´)

<div align="center">

![Image](https://github.com/user-attachments/assets/b290a20e-f2ee-4f9b-88ad-f0f94a6eceaa)

<img width="256" alt="Image" src="https://github.com/user-attachments/assets/03be92e5-e401-492f-b6f3-aa9af5f1ead1" />

</div>

<br />

> ëª©ì°¨
>
> - [ğŸŒŸ ê°œìš”](#-ê°œìš”)
> - [ğŸ§© ì„œë¹„ìŠ¤ ì£¼ìš” ê¸°ëŠ¥](#-ì„œë¹„ìŠ¤-ì£¼ìš”-ê¸°ëŠ¥)
> - [ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
> - [ğŸ“ í´ë” êµ¬ì¡°](#-í´ë”-êµ¬ì¡°)
> - [ğŸ“„ ì°¸ê³  ìë£Œ](#-ì°¸ê³ -ìë£Œ)

</div>

---

# ğŸŒŸ ê°œìš”

**Questine**ì€ ë ˆë²Œì—…ê³¼ ê°™ì€ RPG ìš”ì†Œê°€ ì‚´ì§ ê°€ë¯¸ë¼ ìˆëŠ” í•  ì¼ ê´€ë¦¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ë§¤ì¼ í•  ì¼ì„ ê¸°ë¡í•˜ê³ , í•  ì¼ ë‹¬ì„± ì‹œ, ìºë¦­í„°ê°€ ì„±ì¥í•©ë‹ˆë‹¤. ì¬ë¯¸ì™€ ë™ê¸°ë¶€ì—¬ë¥¼ ë™ì‹œì— ì œê³µí•˜ëŠ” ìƒˆë¡œìš´ ê²½í—˜ì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

# âš™ï¸ ê¸°ìˆ  ìŠ¤íƒ

![Expo](https://img.shields.io/badge/Expo-000020?style=flat-square&logo=expo&logoColor=white)
![React Native](https://img.shields.io/badge/React%20Native-61DAFB?style=flat-square&logo=react&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)
![React Query](https://img.shields.io/badge/React%20Query-FF4154?style=flat-square&logo=reactquery&logoColor=white)
![Axios](https://img.shields.io/badge/Axios-5A29E4?style=flat-square&logo=axios&logoColor=white)
![React Hook Form](https://img.shields.io/badge/React%20Hook%20Form-EC5990?style=flat-square&logo=reacthookform&logoColor=white)

## ERD

<img width="1200" alt="Image" src="https://github.com/user-attachments/assets/0030ad9d-8fad-42b5-b124-19570d79bb5b" />

# ğŸ§© ì„œë¹„ìŠ¤ ì£¼ìš” ê¸°ëŠ¥

<div align="center">

### í•  ì¼ ë“±ë¡/ì‚­ì œ

<table >
  <tr>
    <td max-width="500px">
      <img src="https://github.com/user-attachments/assets/2cfdc55e-00d2-441a-a022-56834104b1df" />
    </td>
    <td>
      í•  ì¼ ì¶”ê°€ ë° ì‚­ì œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br/>
      ì™„ë£Œí•œ í•  ì¼ ê°œìˆ˜ì— ë”°ë¼ ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒì´ ì ìš©ë©ë‹ˆë‹¤. <br/>
      </td>
  </tr>
</table>

**ì—…ì **

<table>
  <tr>
    <td max-width="500px">
      <img src="https://github.com/user-attachments/assets/e04c055c-58cb-4633-bb2d-dd7153983673" />
    </td>
    <td>
      ë‹¤ì–‘í•œ ì—…ì ì„ íšë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br/>
    </td>
  </tr>
</table>

**ìºë¦­í„°**

<table>
  <tr>
    <td max-width="500px">
      <img src="https://github.com/user-attachments/assets/f8e2692d-7b39-40d1-8326-522891509d76" />
    </td>
    <td>
      <b>ë ˆë²¨</b> - ì™„ë£Œí•œ í•  ì¼ ê°œìˆ˜ì— ë”°ë¼ ê²½í—˜ì¹˜ë¥¼ ì˜¬ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br/>
      <b>ì´ë¯¸ì§€</b> - ë ˆë²¨ì— ë”°ë¼ ë‹¤ì–‘í•œ ì´ë¯¸ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤. <br/>
    </td>
  </tr>
</table>

**ë­í‚¹**

<table>
  <tr>
    <td max-width="500px">
      <img src="https://github.com/user-attachments/assets/d2ffe967-b448-4ab7-babd-bed4b6038c1b" />
    </td>
    <td>
      <b>ë­í‚¹</b> - ì „ì²´ ì´ìš©ìì˜ ë­í‚¹ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/>
    </td>
  </tr>
</table>
</div>

<br/>

---

# ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

| **âš ï¸Â ë¬¸ì œ** | í•  ì¼ ì¶”ê°€ ë° ì‚­ì œ ì‹œ ì¸í’‹ ë”œë ˆì´ ë°œìƒ                                    |
| ----------- | ------------------------------------------------------------------------- |
| ğŸš§ **ì›ì¸** | ì„œë²„ í†µì‹  ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì§€ì—°ìœ¼ë¡œ ì¸í•œ ì‚¬ìš©ì ì²´ê° ì„±ëŠ¥ ì €í•˜  |
| ğŸ’¡Â **í•´ê²°** | ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ êµ¬í˜„í•˜ì—¬ ì¸í’‹ ë”œë ˆì´ ê°œì„  (React-queryì˜ onMutate í™œìš©) |

```jsx
// í•  ì¼ ì™„ë£Œ/ë¯¸ì™„ë£Œ í† ê¸€
export function useToggleTodoComplete(year?: number, month?: number) {
  const queryYear = year ?? now.year();
  const queryMonth = month ?? now.month() + 1;
  const queryKey = getTodosQueryKey(queryYear, queryMonth);
  const storageKey = getTodosStorageKey(queryYear, queryMonth);

  return useMutation({

  ...

    onMutate: async ({ todo_id, completed }) => {
    // í•  ì¼ ëª©ë¡ê³¼ ê´€ë ¨ëœ ìš”ì²­ì´ ìˆë‹¤ë©´ ì·¨ì†Œ (ì„œë²„ì™€ì˜ ë™ê¸°í™” ì¶©ëŒ ë°©ì§€ ëª©ì )
      await queryClient.cancelQueries({ queryKey });

    // í˜„ì¬ ì¿¼ë¦¬ ìºì‹œì— ì €ì¥ëœ í•  ì¼ ëª©ë¡ ë¶ˆëŸ¬ì˜´ (ë°ì´í„°ê°€ ì—†ë‹¤ë©´ ë¹ˆ ë°°ì—´ ë°˜í™˜)
      const previousTodos = queryClient.getQueryData<Todo[]>(queryKey) ?? [];

	  // í•  ì¼ ëª©ë¡ì—ì„œ ì‚¬ìš©ìê°€ í† ê¸€í•œ ê°’ ì—…ë°ì´íŠ¸
      const newTodos = previousTodos.map((todo) => (todo.todo_id === todo_id ?
      { ...todo, completed } : todo));

    // ë³€ê²½ëœ í•  ì¼ ëª©ë¡ ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸)
      queryClient.setQueryData<Todo[]>(queryKey, newTodos);
      await saveTodosStorage(storageKey, newTodos);


    // ì—ëŸ¬ê°€ ë°œìƒí•  ê²½ìš°, ì´ì „ í•  ì¼ ëª©ë¡ ë°˜í™˜ (ë¡¤ë°± -> onErrorì—ì„œ ì´ ë°˜í™˜ê°’ ì´ìš©)
      return { previousTodos };
    },

	...

  });
}
```

<br /><br />

| **âš ï¸Â ë¬¸ì œ** | í•  ì¼ ì¶”ê°€ ì‹œ íƒ€ì„ì¡´ ì´ìŠˆ ë°œìƒ ì˜ˆ) 6ì›” 1ì¼ì— ë“±ë¡í•˜ë©´ 5ì›” 30ì¼ì— ì¶”ê°€ ë¨    |
| ----------- | --------------------------------------------------------------------------- |
| ğŸš§ **ì›ì¸** | new DateëŠ” ë¡œì»¬ ì‹œê°„ëŒ€ ê¸°ì¤€ìœ¼ë¡œ ìƒì„±í–ˆëŠ”ë° ë°±ì—”ë“œì—ì„œëŠ” UTC ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•¨ |
| ğŸ’¡Â **í•´ê²°** | í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ì‹œê°„ëŒ€ë¥¼ KSTë¡œ í†µì¼í•˜ì—¬ í•´ê²° (dayjs ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)    |

```jsx
// before
const startDate = new Date(Date.UTC(year, month - 1, 1, 0, 0, 0, 0));
const endDate = new Date(Date.UTC(year, month, 0, 23, 59, 59, 999));

// after
const startDate = dayjs(`${year}-${month}-01 00:00:00`).toDate();
const endDate = dayjs(`${year}-${month}-01 00:00:00`).endOf('month').toDate();
```

<br /><br />

| **âš ï¸Â ë¬¸ì œ** | ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì»¤ìŠ¤í…€ ì¤‘, íƒ€ì… ì—ëŸ¬ ë°œìƒ                                                                   |
| ----------- | ------------------------------------------------------------------------------------------------------------- |
| ğŸš§ **ì›ì¸** | ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” propsì˜ íƒ€ì…ì´ anyë¡œ ì •ì˜ë˜ì–´ìˆì–´ ì–´ë–¤ íŒŒë¼ë¯¸í„°ê°€ ì˜¤ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ (ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìŠˆ) |
| ğŸ’¡Â **í•´ê²°** | ë”°ë¡œ ì»¤ìŠ¤í…€í—¤ë” ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ì—¬ import                                                                    |

```

  const customHeader = (props: CalendarHeaderProps) => {
    const year = props.month?.getFullYear();
    const month = props.month?.getMonth() + 1;
    const today = dayjs();
    const isCurrentMonth =
      props.month && props.month.getFullYear() === today.year() && props.month.getMonth() === today.month();

    // ì›” ë³€ê²½ ì‹œ í˜¸ì¶œí•  ê³µí†µ í•¨ìˆ˜
    const handleMonthChange = (monthOffset: number) => {
      if (props.month && props.addMonth) {
        const newDate = new Date(props.month);
        newDate.setMonth(newDate.getMonth() + monthOffset);
        props.addMonth(monthOffset);

        // onMonthChange ì™¸ë¶€ ìƒíƒœ ì—…ë°ì´íŠ¸ (ë™ê¸°í™”)
        onMonthChange({
          year: newDate.getFullYear(),
          month: newDate.getMonth() + 1,
          day: 1,
          timestamp: newDate.getTime(),
          dateString: `${newDate.getFullYear()}-${String(newDate.getMonth() + 1).padStart(2, '0')}-01`,
        });
      }
    };

          <CalendarList
          ...
          customHeader={customHeader}
          ...
          />
```

<br /><br />

| **âš ï¸Â ë¬¸ì œ** | refresh tokenì´ ìœ íš¨í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  access token ë§Œë£Œ ì‹œê°„ì´ ì§€ë‚˜ë©´ ë¡œê·¸ì•„ì›ƒë˜ëŠ” í˜„ìƒ   |
| ----------- | --------------------------------------------------------------------------------------- |
| ğŸš§ **ì›ì¸** | access token ë§Œë£Œ ì‹œ, ì„œë²„ì—ê²Œ ì¬ë°œê¸‰ í•˜ëŠ” ê³¼ì •ì„ ìƒëµí•¨                                |
| ğŸ’¡Â **í•´ê²°** | axios interceptorë¥¼ ì´ìš©í•˜ì—¬ 401 (unauthorized) ì¼ ê²½ìš° tokenì„ ì¬ë°œê¸‰í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½ |

```
axiosInstance.interceptors.request.use(async (config) => {
  const accessToken = await getSecureStore('accessToken');
  if (accessToken) {
    if (config.headers) config.headers['Authorization'] = `Bearer ${accessToken}`;
  }
  return config;
});

axios.interceptors.response.use(
  (response) => response,
  async (error) => {
    try {
      if (error.response?.status === 401) {
        await getAccessToken();
      }
    } catch (error) {}
  }
);
```

---

# ğŸ“ í´ë” êµ¬ì¡°

<div align="left">

`app/` : ë¼ìš°íŒ… ë° ì£¼ìš” í™”ë©´ ì»´í¬ë„ŒíŠ¸ (file-based routing)

`tabs/` : ë©”ì¸ íƒ­ í™”ë©´ (Achievement, Character, Profile, Rank ë“±)

`auth/` : ì¸ì¦ ê´€ë ¨ í™”ë©´ (Login, Register ë“±)

`settings/` : ì„¤ì • ê´€ë ¨ í™”ë©´

`components/` : ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ ë° ì…ë ¥ ì»´í¬ë„ŒíŠ¸

`constants/` : ìƒìˆ˜ ë° ê³µí†µ ê°’ ì •ì˜ (ì˜ˆ: Colors, Calendars)

`hooks/` : ì»¤ìŠ¤í…€ í›… (ì˜ˆ: useAuth, useTodo)

`api/` : API í†µì‹  ë° ì¿¼ë¦¬ í´ë¼ì´ì–¸íŠ¸

`utils/` : ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

`assets/` : ì´ë¯¸ì§€, í°íŠ¸ ë“± ì •ì  ë¦¬ì†ŒìŠ¤

`types/` : íƒ€ì… ì •ì˜

</div>

---

# ğŸ“„ ì°¸ê³  ìë£Œ

- [Expo ê³µì‹ ë¬¸ì„œ](https://docs.expo.dev/)
- [React Native ê³µì‹ ë¬¸ì„œ](https://reactnative.dev/)
